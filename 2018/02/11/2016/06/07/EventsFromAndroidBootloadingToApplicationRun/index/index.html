
<!DOCTYPE html>
<html lang="">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hexo">
    <title> - Hexo</title>
    <meta name="author" content="John Doe">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="Events from Android Bootloading to application launch | Hello Mr.Li                                   	                      	 		 			 			 			 		  		 		  CytQ 		  		 		Catch your time">
<meta property="og:type" content="blog">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://imlzq.com/2018/02/11/2016/06/07/EventsFromAndroidBootloadingToApplicationRun/index/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Events from Android Bootloading to application launch | Hello Mr.Li                                   	                      	 		 			 			 			 		  		 		  CytQ 		  		 		Catch your time">
<meta property="og:image" content="http://imlzq.com/img/headicon.jpg">
<meta property="og:image" content="http://imlzq.com/img/headicon.jpg">
<meta property="og:image" content="http://gityuan.com/images/boot/android-arch1.png">
<meta property="og:updated_time" content="2018-02-11T08:42:33.532Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
<meta name="twitter:description" content="Events from Android Bootloading to application launch | Hello Mr.Li                                   	                      	 		 			 			 			 		  		 		  CytQ 		  		 		Catch your time">
<meta name="twitter:image" content="http://imlzq.com/img/headicon.jpg">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-pz4cc6y13wt2trzqa8l3n9v0yykr0sstdaheem7qj628nhjmhp9pfawvqawz.min.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Hexo</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="Tags"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                            title="Search"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="About"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                            title="RSS"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            (no title)
        </h1>
    
    
        <div class="post-meta">
    <time itemprop="datePublished" datetime="2018-02-11T16:42:33+08:00">
	
		    Feb 11, 2018
    	
    </time>
    
</div>

    
</div>
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Events from Android Bootloading to application launch | Hello Mr.Li</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Reproduced please specify address
address: imlzq.com
PrefaceThis blog is my first English blog and it’s  translating from one of my blogs because I think if I can write some English blogs, it will mak">
<meta property="og:type" content="article">
<meta property="og:title" content="Events from Android Bootloading to application launch">
<meta property="og:url" content="http://imlzq.com/2016/06/07/EventsFromAndroidBootloadingToApplicationRun/index.html">
<meta property="og:site_name" content="Hello Mr.Li">
<meta property="og:description" content="Reproduced please specify address
address: imlzq.com
PrefaceThis blog is my first English blog and it’s  translating from one of my blogs because I think if I can write some English blogs, it will mak">
<meta property="og:image" content="http://gityuan.com/images/boot/android-arch1.png">
<meta property="og:updated_time" content="2016-07-18T02:42:07.448Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Events from Android Bootloading to application launch">
<meta name="twitter:description" content="Reproduced please specify address
address: imlzq.com
PrefaceThis blog is my first English blog and it’s  translating from one of my blogs because I think if I can write some English blogs, it will mak">
<meta name="twitter:image" content="http://gityuan.com/images/boot/android-arch1.png">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
	
  

</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="/img/headicon.jpg" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">CytQ</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Catch your time</p>
		
	
		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">Home</a></li>
				        
							<li><a href="/archives">Articles</a></li>
				        
							<li><a href="/tags">Tags</a></li>
				        
							<li><a href="/aboutme">About me</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/itstudieren" title="github">github</a>
					        
								<a class="mail" target="_blank" href="/JonsTank2013@gmail.com" title="mail">mail</a>
					        
								<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Algorithm/" style="font-size: 14px;">Algorithm</a> <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Chinese/" style="font-size: 18px;">Chinese</a> <a href="/tags/Design-Pattern/" style="font-size: 16px;">Design Pattern</a> <a href="/tags/English/" style="font-size: 10px;">English</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Golang/" style="font-size: 10px;">Golang</a> <a href="/tags/Java/" style="font-size: 12px;">Java</a> <a href="/tags/Jvm/" style="font-size: 10px;">Jvm</a> <a href="/tags/MVP/" style="font-size: 10px;">MVP</a> <a href="/tags/Others/" style="font-size: 10px;">Others</a> <a href="/tags/Preface/" style="font-size: 10px;">Preface</a> <a href="/tags/Python/" style="font-size: 16px;">Python</a> <a href="/tags/Rxjava/" style="font-size: 14px;">Rxjava</a> <a href="/tags/Socket/" style="font-size: 10px;">Socket</a> <a href="/tags/Study-Note/" style="font-size: 16px;">Study Note</a> <a href="/tags/学习笔记/" style="font-size: 10px;">学习笔记</a> <a href="/tags/框架/" style="font-size: 10px;">框架</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">CytQ</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img src="/img/headicon.jpg" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
			
			</div>
			<hgroup>
			  <h1 class="header-author">CytQ</h1>
			</hgroup>
			
			<p class="header-subtitle">Catch your time</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Home</a></li>
		        
					<li><a href="/archives">Articles</a></li>
		        
					<li><a href="/tags">Tags</a></li>
		        
					<li><a href="/aboutme">About me</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/itstudieren" title="github">github</a>
			        
						<a class="mail" target="_blank" href="/JonsTank2013@gmail.com" title="mail">mail</a>
			        
						<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-EventsFromAndroidBootloadingToApplicationRun" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/06/07/EventsFromAndroidBootloadingToApplicationRun/" class="article-date">
  	<time datetime="2016-06-07T09:24:27.000Z" itemprop="datePublished">2016-06-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Events from Android Bootloading to application launch
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/English/">English</a></li></ul>
	</div>


        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Reproduced please specify address</p>
<p>address: <a href="http://imlzq.com">imlzq.com</a></p>
<h2 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h2><p>This blog is my first English blog and it’s  translating from one of my blogs because I think if I can write some English blogs, it will make my English ability better. Native blog is <a href="http://imlzq.com">imlzq.com</a></p>
<p>This blog notes what things happened from the Android System starts to user clicks icon to launch the specify app. And it contains many relate points as well, like the JVM, the Context, handler looper message queue and so on.</p>
<p>But some details about the system is not in this blog because it’s useless for my current tech stage. Maybe I will study deeply in it later.</p>
<p><strong>It’s not finished yet. I will finish the translation at the next and fix some grammatical and language errors </strong></p>
<a id="more"></a>
<h2 id="Start"><a href="#Start" class="headerlink" title="Start"></a>Start</h2><p>We know that the Android is a OS based on the LinuxOS and it can separate into five layers. This is the framework picture. Just remember it because we will discuss many points with these frameworks, like the System Server</p>
<p><img src="http://gityuan.com/images/boot/android-arch1.png" alt="frameworklayerpic"></p>
<p>Five layers are application layer, application framework layer, libraries layer, Android Runtime layer and the Linux Kernel layer.</p>
<p>And the Linux system launch process is BootLoader -&gt; init kernel -&gt; ….. others</p>
<p>After the system initing the kernel, a very important process will be launched which is called init process.It’s the forefather for all processes. </p>
<p>In Linux, all processes are forked by init process directly or indirectly. But in Android, it has some changes that is init process will fork a Java process which is called Zygote to fork other java processes, like the system server. Because we know that init process is a C process and the Android is based on Java. So init process forks a java process to fork other java processes, I guess :) <strong> [BreakPoint1] </strong></p>
<p>I will talk some important objects and conceptions at this place. Then I’ll continue the break point 1</p>
<ul>
<li>ActivityManagerServices(AMS): It’s a server object and responsible for all activies’ lifecycle. <strong> ActivityThread will contact them with Binder and AMS contact Zygote with Socket (IPC will summed up later) </strong></li>
<li>ActivityThread: It’s the UI/Main process and the entrance of an application is in the ActivityThread.main(). The main function will be called when the application launched. It will init some objects and open a <strong> message loop queue (summed it up later) </strong>.After that, the program will enter a endless loop by calling Looper.loop. If there are any messages here, handle it. If no, just wait. It’s a typical EDT.</li>
<li>ApplicationThread: It implements the IBinder interface and it’s the interface between server and client <strong> Curious about the server and client in android? summed it up later </strong> And it’s the inner classes in ActivityThread so that it can bind ActivityThread with AMS.</li>
<li>Instrumentation: This object I think it’s a tool class of ActivityThread and all the lifecycle of activity will handled by it, like the onCreate(), onStart() and so on.</li>
</ul>
<p><strong> Server and Client in android </strong></p>
<p>Actually there are server and client in android as well. Server means all system servers that used by apps, like the AMS, PackageManagerService and so on. All apps can use these system servers. When one of apps want to make some operations, some specify system server will get the notification.</p>
<h2 id="Continue-BreakPoint1"><a href="#Continue-BreakPoint1" class="headerlink" title="Continue BreakPoint1"></a>Continue BreakPoint1</h2><p>Zygote will fork an important system server process while it’s in the initializtion. It’s important like the Zygote so please remember it. It belongs to the application framework layer and all servers in android will forked by it.</p>
<p>When the application start the system server process, the AMS will be inited and application will load the local system server libraries, create the system context, create ActivityThread and start other servers as well. After this, the Launcher application which is an system application will be launched to finish the loading of UI and show layouts.<br><strong> BreakPoint2 </strong></p>
<h2 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h2><p>Context is an abstract class. This is its source code and get it from the android source code.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Interface to global information about an application environment.  This is</span><br><span class="line"> * an abstract class whose implementation is provided by</span><br><span class="line"> * the Android system.  It</span><br><span class="line"> * allows access to application-specific resources and classes, as well as</span><br><span class="line"> * up-calls for application-level operations such as launching activities,</span><br><span class="line"> * broadcasting and receiving intents, etc.</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Context</span> </span>&#123;</span><br></pre></td></tr></table></figure>
<p>From this code, we can know that context is a global information interface. We can get some application-specific resources and classes</p>
<p>My understanding is : Context has three implementation classes, such as Application, Activity, Service. And we can do permission things by context. Actually I think it’s just a run environment.</p>
<p><strong> Notice </strong></p>
<p>Many places in android are used context so that we must notice some problem about the memory leak caused by context.</p>
<p>E.g:<br> The context in the Toast.makeText function should be setted into application context. If not,we finish the activity when it’s showing the toast, it’ll cause the memory leak because the toast still has the reference of activity so that the activity won’t be recycled. That is memory leak.</p>
<h2 id="Summary-of-toast"><a href="#Summary-of-toast" class="headerlink" title="Summary of toast"></a>Summary of toast</h2><p>I summed the toast up above this sentence. Actually the toast is an interesting widget as well because the show function in it is not just show something simply.</p>
<p>Toast is a queue actually and the show function will add the new mission into the queue. If there are any messages in queue, the message will get out to use. The length of toast queue maybe is 40 (I didn’t found the source code about the length of queue and I think I don’t have any necessary to find it as well. So just search it online and the result is this. I’m not sure).</p>
<p>So we just need to notice the show function. The function will put the message into the queue rather than show the message.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">     * Show the view for the specified duration.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (mNextView == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"setView must have been called"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        INotificationManager service = getService();</span><br><span class="line">        String pkg = mContext.getOpPackageName();</span><br><span class="line">        TN tn = mTN;</span><br><span class="line">        tn.mNextView = mNextView;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            service.enqueueToast(pkg, tn, mDuration);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (RemoteException e) &#123;</span><br><span class="line">            <span class="comment">// Empty</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="Memory-leak-in-handler"><a href="#Memory-leak-in-handler" class="headerlink" title="Memory leak in handler"></a>Memory leak in handler</h2><p>Do you find that if you create a non-static inner handler, the android studio will mark the code highlight.</p>
<p><strong> Why? </strong><br>Because it will product a memory leak.</p>
<p><strong> Why? </strong><br>Because every non-static inner class will hold a reference of outer class in java. If we finish the activity without unbind with this handler, it will product an memory leak.</p>
<p><strong> How to fix it? </strong><br>Use the static handler so that the handler becomes a static inner class. And use a weakrefence to hold the outer class object. If the outer class finish or destory, the GC will recycle the weakrefence.</p>
<h2 id="Garbage-collection"><a href="#Garbage-collection" class="headerlink" title="Garbage collection"></a>Garbage collection</h2><p>You can see it from my last blog but it’s in Chinese now. I didn’t translate it into English yet.<br>Address: <a href="http://blog.csdn.net/jonstank2013/article/details/50922958" target="_blank" rel="external">JVM原理及底层探索</a></p>
<h2 id="Four-kind-references"><a href="#Four-kind-references" class="headerlink" title="Four kind references"></a>Four kind references</h2><p>I will talk something about the reference because we tolk about the weak reference before.</p>
<ul>
<li>Strong reference: GC won’t recycle a strong reference object, even OOM. All new objects are strong reference.</li>
<li>Soft reference: GC will recycle them when the memory is not enough. It will exist in other situations.</li>
<li>Weak reference: It looks like the soft reference but weaker. GC will recycle them as long as find them.The life cycle is shorter than soft reference.But the time that GC finds the weak reference maybe is not in time. So maybe it can live for a while unitil GC finds it.</li>
<li>Phantom reference: It’s different from other references. The understanding of mine is if an object has a phantom reference, programmer can do some work before recycled because the phantom reference must work with a reference queue. The object which has a phantom reference will be putted into the reference queue before recycled when GC finds it. And if the programmer finds the queue has the phantom reference, it will know the reference object will be recycled soon so that we can do some pre-work.</li>
</ul>
<h2 id="ClassLoader"><a href="#ClassLoader" class="headerlink" title="ClassLoader"></a>ClassLoader</h2><p>ClassLoader can separate three kinds from the top to the bottom that are Bootstrap ClassLoader, Extension ClassLoader and Application ClassLoader.</p>
<p>We judge two classes are a same class or not by judging them are loaded by a same classloader or not.</p>
<p><strong> Parent assignment model </strong></p>
<p>This model means all class loader must own a parent class loader except the Bootstrap ClassLoader. When a class need to loaded, the parent classloader will try to load it first. If the parent can not load it, the sub classloader will try to load it.</p>
<p>Advantage: the memory won’t have many byte codes which are same in this way.</p>
<p>For example, Class A and Class B need to load system class.If not use the parent assignment model, class A will load it and class B will load it again so that there are two same system byte code in the memory. But if we use the model, classes will send the mission to their parent first and Bootstrap will try to load it. So the next time class B want to load  the system class, the bootstrap classloader will return the system which is in the memory rather than loading it again.</p>
<h2 id="Lazy-load-module-Singleton-module"><a href="#Lazy-load-module-Singleton-module" class="headerlink" title="Lazy load module : Singleton module"></a>Lazy load module : Singleton module</h2><p>The class will be loaded when it will be used for java and default it will synchronize at that time so we can use the lazy load module to do some interesting things, like the singleton module.</p>
<p>Please see my blog about the singleton module, it’s in Chinese. Address is : <a href="http://blog.csdn.net/jonstank2013/article/details/50903830" target="_blank" rel="external">设计模式_单例模式</a></p>
<p>Actually I think the best singleton module is the lazy loading module in android. Maybe the enumeration is better in java but in android, the system consume  is double of static. So I suggest you use the lazy loading module to build a singleton class.</p>
<p><strong> Point </strong><br>If you use the singleton module, you need to notice the effection of serialize and deserialize because they have the toppest permission in java. They can call all functions even if they’re in private. So you need to rewrite the readResolve function and make it return the same object as well.If not, it will exist two same objects after the deserialize by call the constructor functino again.</p>
<p>Just see it in my blog.</p>
<h2 id="Continue-BreakPoint2"><a href="#Continue-BreakPoint2" class="headerlink" title="Continue BreakPoint2"></a>Continue BreakPoint2</h2><p>I note too much other knowledge above. So let’s do our main work first.</p>
<p>In the breakpoint2, we already finished the launching of androidOS and its initialization.So we can talk some events which are from user clicks the app icon to App onCreate().</p>
<p>When we click the screen, the positive electrode will touch with negative electrode so it will create a voltage.Actually we don’t use the kind of screen as I said but I think the principle it is the same.When the voltage exists, the system can get the x,y coordinates by drivers.Of course it will D/A first. So the OS can judge the x,y is in an app icon or widgets range or not. If yes, call the specify listener to handle it. If no, do some other things.</p>
<p>If the os thinks user clicks an app, the Launcher application will launch it. <strong> [BreakPoint3] </strong></p>
<h2 id="Launcher"><a href="#Launcher" class="headerlink" title="Launcher"></a>Launcher</h2><h2 id="Not-finished-yet-The-next-time-I-will-finish-the-translation"><a href="#Not-finished-yet-The-next-time-I-will-finish-the-translation" class="headerlink" title="Not finished yet.The next time I will finish the translation"></a>Not finished yet.The next time I will finish the translation</h2>
      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/06/08/BroadcastReceiver/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          BroadcastReceiver —— 广播全解析
        
      </div>
    </a>
  
  
    <a href="/2016/06/06/principle-gson/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">GSon原理解析</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share_jia">
<!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<span class="jiathis_txt">分享到：</span>
<a class="jiathis_button_tsina">新浪微博</a>
<a class="jiathis_button_weixin">微信</a>
<a class="jiathis_button_cqq">QQ好友</a>
<a class="jiathis_button_ydnote">有道云笔记</a>
<a class="jiathis_button_douban">豆瓣</a>

<a href="http://www.jiathis.com/share?uid=2099928" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a>
<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript">
var jiathis_config={
	data_track_clickback:true,
	summary:"",
	shortUrl:false,
	hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2099928" charset="utf-8"></script>
<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<div class="ds-thread" data-thread-key="EventsFromAndroidBootloadingToApplicationRun" data-title="Events from Android Bootloading to application launch" data-url="http://imlzq.com/2016/06/07/EventsFromAndroidBootloadingToApplicationRun/"></div>
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"imlzq"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
</div>




</div>
      <footer id="footer">
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-right">
		<span id="busuanzi_container_site_pv">
    总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
		<span id="busuanzi_container_page_pv">
  			本文阅读量<span id="busuanzi_value_page_pv"></span>次
  		</span>
    		&copy; 2016 CytQ
    	</div>
    </div>
  </div>
</footer>

    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: false,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  </div>
</body>
</html>

            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/02/11/2016/06/06/principle-gson/index/" data-tooltip="(no title)" aria-label="PREVIOUS: (no title)">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/02/11/2016/05/29/classloaders/index/" data-tooltip="(no title)" aria-label="NEXT: (no title)">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://imlzq.com/2018/02/11/2016/06/07/EventsFromAndroidBootloadingToApplicationRun/index/" title="Share on Facebook">
                    <i class="fa fa-facebook-official" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://imlzq.com/2018/02/11/2016/06/07/EventsFromAndroidBootloadingToApplicationRun/index/" title="Share on Twitter">
                    <i class="fa fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://imlzq.com/2018/02/11/2016/06/07/EventsFromAndroidBootloadingToApplicationRun/index/" title="Share on Google+">
                    <i class="fa fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 John Doe. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/02/11/2016/06/06/principle-gson/index/" data-tooltip="(no title)" aria-label="PREVIOUS: (no title)">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/02/11/2016/05/29/classloaders/index/" data-tooltip="(no title)" aria-label="NEXT: (no title)">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://imlzq.com/2018/02/11/2016/06/07/EventsFromAndroidBootloadingToApplicationRun/index/" title="Share on Facebook">
                    <i class="fa fa-facebook-official" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://imlzq.com/2018/02/11/2016/06/07/EventsFromAndroidBootloadingToApplicationRun/index/" title="Share on Twitter">
                    <i class="fa fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://imlzq.com/2018/02/11/2016/06/07/EventsFromAndroidBootloadingToApplicationRun/index/" title="Share on Google+">
                    <i class="fa fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="4">
    <i id="btn-close-shareoptions" class="fa fa-close"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://imlzq.com/2018/02/11/2016/06/07/EventsFromAndroidBootloadingToApplicationRun/index/">
                    <i class="fa fa-facebook-official" aria-hidden="true"></i><span>Share on Facebook</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://imlzq.com/2018/02/11/2016/06/07/EventsFromAndroidBootloadingToApplicationRun/index/">
                    <i class="fa fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://imlzq.com/2018/02/11/2016/06/07/EventsFromAndroidBootloadingToApplicationRun/index/">
                    <i class="fa fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <h4 id="about-card-name">John Doe</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-peofhqjkzcghmndknakluequy1y6owxdwpaqyju9ntl9zxnk7rdolb3rjjoj.min.js"></script>
<!--SCRIPTS END-->

    



    </body>
</html>
